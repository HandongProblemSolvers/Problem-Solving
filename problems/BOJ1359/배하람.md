## 내가 이해한 문제 내용

원하는 구간에 대해서 스위치를 반전시키거나 켜져있는 스위치의 개수를 구하는 쿼리를 구현하시오.

## 접근방법

애초에 예찬이가 스포를 때렸기 때문에 lazy propagation에 대해서 공부를 했는데 상당히 좋은 아이디어라는 것을 느꼈다. 역시 세상에 천재들은 많다. 보통 세그트리의 업데이트는 한번에 O(lgN)이 소모되기 때문에 특정 구간에 대해서 업데이트 할 때 그 구간의 길이가 최대 N이므로 O(NlgN)이라는 시간복잡도가 생긴다. 이를 N번 하게 되면 O(N^2lgN)으로 시간초과가 발생하기 때문에 lazy propagtaion을 사용하는 것이다.

그러나 이 문제는 구간합과 같이 간단한 접근으로는 해결할 수 없고 살짝 더 생각해야 하는 문제이다. 보통 `lazy` 배열에 나중에 더할 값을 저장해놓지만 이 문제는 스위치를 반전시키는 행위이므로 플래그 형태, 즉 불리안 값을 넣어서 propagation 연산을 할 때 자식노드들에 대해 "반전" 시키는 것이 핵심이다. 이 부분만 파악하게 되면 나머지는 일반적인 것과 동일하다.

## 어려웠던 점

개념 자체에 대해 이해하는 것도 좀 걸렸고 특히 문제를 푸는 방식을 생각하는데 시간을 꽤 썼다.

## 시간복잡도

세그트리의 초기화도 필요없기 때문에 O(MlgN)이다.