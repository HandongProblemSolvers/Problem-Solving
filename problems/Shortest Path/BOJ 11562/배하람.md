* **이해한 문제 내용**

단방향, 혹은 양방향의 그래프 형태가 주어질 때 모든 지점에서 다른 모든 지점으로 이동하게 만드는 경로를 가능게 하도록 양방향으로 바꿔야 하는 단방향 간선의 개수를 구하시오.

* **접근방식**

먼저 기존 그래프에 플로이드를 돌리고 모든 간선을 양방향이라 가정한 뒤에 다시 플로이드를 돌렸다. 플로이드를 돌리면서 중간 정점을 저장하는 방식으로 경로를 저장한다음 쿼리가 날라올 때 경로를 추적하면서 해당 경로가 기존 그래프에서 존재하는지의 여부로 답을 결정하였다.

그런데 이러한 방식으로는 풀리지 않아 [해답](https://am003507.tistory.com/236)을 봤는데 나에겐 상당히 기발한 아이디어였다. 애초에 양방향으로 바꿀 단방향의 개수를 구하는 것이니 간선의 가중치를 양방향으로 바꿀 개수라고 지정하는 것이다. 이렇게 하면 원래의 양방향의 경우, 가중치가 0이 되고 단방향인 경우에만 그 역방향의 가중치가 1이 된다. 따라서 이 상태에서 플로이드를 돌리면 결국 양방향으로 만들어야 하는 간선 기준으로 최단경로를 구하게 되므로 그것이 답이 된다.

```c++
// 1,3,0 이라면 1과 3이 단방향으로 연결되있는 경우이므로 양방향으로 바꿀 것 한개
dp[1][3] = 0;
dp[3][1] = 1;
// 1,3,1 이라면 1과 3이 양방향으로 연결되있는 경우이므로 양방향으로 바꿀 것 없음
dp[1][3] = 0;
dp[3][1] = 0;
```

* **배운점**

너무 단순한 사고로 풀려고 했다. 사고의 전환을 계속해서 하자.

* **시간복잡도**

O(n^3)